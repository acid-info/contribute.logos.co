(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[890],{497:(e,s,t)=>{"use strict";t.d(s,{ZV:()=>o,Zs:()=>c,cn:()=>a,pt:()=>i});var l=t(8136),r=t(1064),n=t(5778);function a(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,r.QP)((0,l.A)(s))}function i(e){let s=new Date;return s.setDate(s.getDate()-e),s.toISOString().split("T")[0]}function c(){return"development"===n.env.NEXT_PUBLIC_API_MODE?"http://localhost:3000/api":"staging"===n.env.NEXT_PUBLIC_API_MODE?"https://dev-admin-acid.logos.co/api":"https://admin-acid.logos.co/api"}function o(e){return null==e?"0":e.toLocaleString()}},4048:(e,s,t)=>{"use strict";t.d(s,{default:()=>y});var l=t(9280),r=t(5916),n=t(8877),a=t(6941),i=t(497);let c=async()=>{let e=(0,i.Zs)(),s=await fetch("".concat(e,"/projects/").concat(encodeURIComponent("acid-info"),"/").concat(encodeURIComponent("contribute.logos.co"),"/issues"),{next:{revalidate:60}});if(!s.ok)throw Error("Failed to fetch issues: ".concat(s.status));return s.json()},o=()=>(0,a.I)({queryKey:["issues","acid-info","contribute.logos.co"],queryFn:c,staleTime:6e4,gcTime:3e5,retry:2,retryDelay:e=>Math.min(1e3*2**e,1e4)});var d=t(5297),m=t(4196),x=t(8136);let u=["Circles","Lisbon","Zanzibar","London","Los Angeles","Porto","Benin","Translators","Designers","Developers","Event Organisers","Writers","Other"];function p(e){let{selectedLabels:s,isOpen:t,onToggle:a,onLabelToggle:i,onClearFilters:c}=e,o=(0,n.c3)("issues"),d=(0,r.useRef)(null);return(0,r.useEffect)(()=>{if(t)return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)};function e(e){d.current&&!d.current.contains(e.target)&&a()}},[t,a]),(0,l.jsxs)("div",{className:"relative",ref:d,children:[(0,l.jsxs)("button",{onClick:a,className:"border-primary flex items-center gap-2 border px-3 py-1.5 text-sm transition-colors",children:[(0,l.jsx)("span",{children:0===s.length?o("filterLabels"):1===s.length?s[0]:o("filterLabelsSelected",{count:s.length})}),(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:(0,x.A)("h-4 w-4 transition-transform",t&&"rotate-180"),viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06 0L10 10.44l3.71-3.23a.75.75 0 111.06 1.06l-4 3.5a.75.75 0 01-1.06 0l-4-3.5z",clipRule:"evenodd"})})]}),t&&(0,l.jsxs)("div",{className:"border-primary bg-primary absolute top-full right-0 z-50 mt-1 min-w-[200px] border shadow-lg",children:[s.length>0&&(0,l.jsx)("div",{className:"border-primary border-b",children:(0,l.jsx)("button",{onClick:c,className:"w-full px-3 py-2 text-left text-sm",children:o("clearFilters")})}),(0,l.jsx)("div",{className:"max-h-60 overflow-y-auto",children:u.map(e=>{let t=s.includes(e);return(0,l.jsxs)("label",{className:"flex cursor-pointer items-center gap-2 px-3 py-2 text-sm",children:[(0,l.jsx)("input",{type:"checkbox",checked:t,onChange:()=>i(e),className:"border-primary h-4 w-4 cursor-pointer border"}),(0,l.jsx)("span",{children:e})]},e)})})]})]})}function h(e){let{selectedLabels:s,isDropdownOpen:t,onDropdownToggle:r,onLabelToggle:a,onClearFilters:i}=e,c=(0,n.c3)("issues");return(0,l.jsxs)("div",{className:"border-primary flex items-center justify-between border-b px-4 py-4 sm:px-6",children:[(0,l.jsx)(m.o5,{variant:"h3",className:"!text-lg sm:!text-xl",children:c("title")}),(0,l.jsx)(p,{selectedLabels:s,isOpen:t,onToggle:r,onLabelToggle:a,onClearFilters:i})]})}function f(e){var s;let{issue:t}=e,r=(0,n.c3)("issues"),a=e=>{window.open(e,"_blank","noopener,noreferrer")};return(0,l.jsx)("div",{className:"p-4 sm:p-6",children:(0,l.jsxs)("div",{className:"flex flex-col space-y-3 sm:flex-row sm:items-start sm:space-y-0 sm:space-x-4",children:[(0,l.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,l.jsx)("button",{className:"cursor-pointer text-left hover:underline",onClick:()=>a(t.url),"aria-label":"Open issue on GitHub",children:(0,l.jsxs)(m.o5,{variant:"body1",className:"font-medium",children:["#",t.number," ",t.title]})}),(0,l.jsxs)("div",{className:"text-secondary mt-1 flex flex-wrap items-center gap-2 text-xs",children:[(0,l.jsx)("span",{children:r("updated",{date:new Date(t.updatedAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})})}),(null==(s=t.labels)?void 0:s.length)?(0,l.jsx)("span",{className:"ml-2 flex flex-wrap gap-1",children:t.labels.map(e=>(0,l.jsx)(m.Ex,{size:"small",children:e},e))}):null]})]}),(0,l.jsx)("div",{className:"flex flex-col space-y-2 sm:flex-row sm:space-y-0 sm:space-x-2",children:(0,l.jsx)(m.$n,{onClick:()=>a(t.url),variant:"outlined",size:"small",children:r("view")})})]})})}function v(e){let{issues:s}=e;return(0,l.jsx)("div",{className:"divide-primary divide-y",children:s.map(e=>(0,l.jsx)(f,{issue:e},e.id))})}function j(){let e=(0,n.c3)("issues");return(0,l.jsx)("div",{className:"flex justify-center p-8 sm:p-12",children:(0,l.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,l.jsx)("div",{className:"mb-2 h-6 w-6 animate-spin rounded-full border-2 border-gray-300 border-t-gray-900"}),(0,l.jsx)(m.o5,{variant:"body2",className:"text-gray-600",children:e("loading")})]})})}function g(){let e=(0,n.c3)("issues");return(0,l.jsx)("div",{className:"flex justify-center p-8 sm:p-12",children:(0,l.jsx)("div",{className:"flex flex-col items-center space-y-4",children:(0,l.jsx)(m.o5,{variant:"body2",className:"text-red-600",children:e("error")})})})}function b(e){let{selectedLabels:s}=e,t=(0,n.c3)("issues");return(0,l.jsx)("div",{className:"flex justify-center p-8 sm:p-12",children:(0,l.jsx)(m.o5,{variant:"body2",className:"text-gray-600",children:s.length>0?t("emptyFilteredMultiple",{labels:s.join(", ")}):t("empty")})})}function y(e){let{showPagination:s=!0,itemsPerPage:t=10}=e,a=(0,n.c3)("issues"),{data:i,isLoading:c,error:m}=o(),[x,u]=(0,r.useState)(1),[p,f]=(0,r.useState)([]),[y,N]=(0,r.useState)(!1),w=(null==i?void 0:i.issues)||[],C=(0,r.useMemo)(()=>0===p.length?w:w.filter(e=>p.every(s=>{var t;return null==(t=e.labels)?void 0:t.includes(s)})),[w,p]),k=C.length,L=Math.max(1,Math.ceil(k/t)),E=(0,r.useMemo)(()=>{if(!s)return C.slice(0,t);let e=(x-1)*t;return C.slice(e,e+t)},[C,x,s,t]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"mb-8 flex flex-col gap-2",children:(0,l.jsx)("p",{className:"text-secondary text-center text-base",children:a("subtitle")})}),(0,l.jsxs)("div",{className:"border-primary border",children:[(0,l.jsx)(h,{selectedLabels:p,isDropdownOpen:y,onDropdownToggle:()=>N(!y),onLabelToggle:e=>{f(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e]),u(1)},onClearFilters:()=>{f([]),u(1)}}),c?(0,l.jsx)(j,{}):m?(0,l.jsx)(g,{}):E.length>0?(0,l.jsx)(v,{issues:E}):(0,l.jsx)(b,{selectedLabels:p}),s&&!c&&!m&&L>1&&(0,l.jsx)(d.A,{currentPage:x,totalPages:L,totalItems:k,itemsPerPage:t,onPageChange:u,showingText:a("showing",{start:"{start}",end:"{end}",total:"{total}"}),previousText:a("previous"),nextText:a("next")})]})]})}},5233:(e,s,t)=>{Promise.resolve().then(t.bind(t,4048))},5297:(e,s,t)=>{"use strict";t.d(s,{A:()=>n});var l=t(9280),r=t(4196);function n(e){let{currentPage:s,totalPages:t,totalItems:n,itemsPerPage:a,onPageChange:i,showingText:c,previousText:o,nextText:d}=e;if(t<=1)return null;let m=n?(s-1)*a+1:0,x=Math.min(s*a,n);return(0,l.jsx)("div",{className:"border-primary border-t px-4 py-4 sm:px-6",children:(0,l.jsxs)("div",{className:"flex flex-col items-center gap-3 space-y-4 sm:flex-row sm:items-center sm:justify-between sm:space-y-0",children:[(0,l.jsx)(r.o5,{variant:"body2",className:"text-center text-xs sm:text-left sm:text-sm",children:c.replace("{start}",m.toString()).replace("{end}",x.toString()).replace("{total}",n.toString())}),(0,l.jsxs)("div",{className:"flex w-full flex-col items-center space-y-3 sm:w-auto sm:flex-row sm:space-y-0 sm:space-x-2",children:[(0,l.jsxs)("div",{className:"flex items-center justify-center gap-2 sm:hidden",children:[(0,l.jsx)(r.$n,{variant:"outlined",disabled:1===s,onClick:()=>i(s-1),className:"!h-9 !px-3 !text-sm",children:o}),(0,l.jsxs)("span",{className:"px-3 py-2 text-sm font-medium",children:[s," / ",t]}),(0,l.jsx)(r.$n,{variant:"outlined",disabled:s===t,onClick:()=>i(s+1),className:"!h-9 !px-3 !text-sm",children:d})]}),(0,l.jsxs)("div",{className:"hidden sm:flex sm:flex-row sm:space-x-2",children:[(0,l.jsx)(r.$n,{variant:"outlined",disabled:1===s,onClick:()=>i(s-1),className:"!h-10",children:o}),(0,l.jsx)("div",{className:"flex justify-center space-x-1",children:Array.from({length:t},(e,n)=>{let a=n+1,c=a===s,o=2>=Math.abs(a-s);return 1===a||a===t||o?(0,l.jsx)(r.$n,{variant:c?"filled":"outlined",onClick:()=>i(a),className:"!h-10 !w-10 !p-0",children:a},a):a===s-3||a===s+3?(0,l.jsx)("span",{className:"px-2 py-2",children:"..."},a):null})}),(0,l.jsx)(r.$n,{variant:"outlined",disabled:s===t,onClick:()=>i(s+1),className:"!h-10",children:d})]})]})]})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[55,460,196,941,969,603,358],()=>s(5233)),_N_E=e.O()}]);