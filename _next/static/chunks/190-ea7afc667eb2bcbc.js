"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[190],{4840:(e,t,s)=>{s.d(t,{A:()=>f});var r=s(9280),a=s(5916),n=s(8877),i=s(5297),l=s(4196);function o(){let e=(0,n.c3)("home"),t=(0,n.c3)("common");return(0,r.jsx)("div",{className:"border-primary border-b px-4 py-4 sm:px-6",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(l.o5,{variant:"h3",className:"!text-lg sm:!text-xl",children:e("contributors.title")}),(0,r.jsx)(l.Ex,{size:"small",className:"!cursor-default whitespace-nowrap !no-underline hover:!no-underline",children:t("contribute.timePeriod")})]})})}var c=s(563),d=s(1160);let m=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});function u(e){let{contributor:t}=e,s=(0,n.c3)("home");return(0,r.jsx)("div",{className:"p-4 sm:p-6",children:(0,r.jsxs)("div",{className:"flex flex-col space-y-3 sm:flex-row sm:items-center sm:space-y-0 sm:space-x-4",children:[(0,r.jsx)("img",{src:t.avatarUrl,alt:"".concat(t.username," avatar"),className:"h-10 w-10 rounded-full sm:h-12 sm:w-12"}),(0,r.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,r.jsxs)("div",{className:"flex flex-row space-y-1 space-x-3 sm:items-center sm:space-y-0",children:[(0,r.jsx)("a",{href:t.profileUrl,target:"_blank",rel:"noopener noreferrer",className:"text-base font-medium hover:underline sm:text-lg",children:t.username}),(0,r.jsxs)("span",{className:"inline-flex items-center text-xs font-medium",children:[t.contributions," ",s("contributors.contributions")]})]}),(0,r.jsxs)("div",{className:"mt-1 text-xs sm:text-sm",children:[s("contributors.latest"),": ",t.latestRepo," â€¢"," ",m(t.latestContribution)]})]}),(0,r.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,r.jsx)("a",{href:t.profileUrl,target:"_blank",rel:"noopener noreferrer",children:(0,r.jsx)(l.$n,{variant:"outlined",size:"small",children:s("contributors.viewGithubProfile")})}),(0,r.jsx)(c.N_,{href:"".concat(d.b.contributors,"?username=").concat(encodeURIComponent(t.username)),children:(0,r.jsx)(l.$n,{size:"small",children:s("contributors.viewDetails")})})]})]})})}function x(){return(0,r.jsx)("div",{className:"flex justify-center p-8 sm:p-12",children:(0,r.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,r.jsx)("div",{className:"mb-2 h-6 w-6 animate-spin rounded-full border-2 border-gray-300 border-t-gray-900"}),(0,r.jsx)(l.o5,{variant:"body2",className:"text-gray-600",children:"Loading contributors..."})]})})}function h(){return(0,r.jsx)("div",{className:"flex justify-center p-8 sm:p-12",children:(0,r.jsx)("div",{className:"flex flex-col items-center space-y-4",children:(0,r.jsx)(l.o5,{variant:"body2",className:"text-red-600",children:"Failed to load contributors. Please try again later."})})})}function p(){let e=(0,n.c3)("home");return(0,r.jsx)("div",{className:"p-4 text-center sm:p-6",children:(0,r.jsx)(l.o5,{variant:"body2",children:e("contributors.noResults")})})}function b(e){let{contributors:t,isLoading:s,error:a}=e;return s?(0,r.jsx)(x,{}):a?(0,r.jsx)(h,{}):0===t.length?(0,r.jsx)(p,{}):(0,r.jsx)(r.Fragment,{children:t.map(e=>(0,r.jsx)(u,{contributor:e},e.id))})}function f(e){let{contributors:t,isLoading:s,error:l,currentPage:c=1,totalPages:d,totalItems:m,itemsPerPage:u=10,onPageChange:x,showPagination:h=!0}=e,p=(0,n.c3)("home"),f=null!=m?m:t.length,g=null!=d?d:Math.max(1,Math.ceil(f/u)),v=(0,a.useMemo)(()=>{if(!h)return t.slice(0,u);let e=(c-1)*u;return t.slice(e,e+u)},[t,c,h,u]);return(0,r.jsxs)("div",{className:"border-primary border",children:[(0,r.jsx)(o,{}),(0,r.jsx)("div",{className:"divide-primary divide-y",children:(0,r.jsx)(b,{contributors:v,isLoading:s,error:l})}),h&&!s&&!l&&g>1&&x&&(0,r.jsx)(i.A,{currentPage:c,totalPages:g,totalItems:f,itemsPerPage:u,onPageChange:x,showingText:p("contributors.pagination.showing",{start:"{start}",end:"{end}",total:"{total}"}),previousText:p("contributors.pagination.previous"),nextText:p("contributors.pagination.next")})]})}},5297:(e,t,s)=>{s.d(t,{A:()=>n});var r=s(9280),a=s(4196);function n(e){let{currentPage:t,totalPages:s,totalItems:n,itemsPerPage:i,onPageChange:l,showingText:o,previousText:c,nextText:d}=e;if(s<=1)return null;let m=n?(t-1)*i+1:0,u=Math.min(t*i,n);return(0,r.jsx)("div",{className:"border-primary border-t px-4 py-4 sm:px-6",children:(0,r.jsxs)("div",{className:"flex flex-col items-center gap-3 space-y-4 sm:flex-row sm:items-center sm:justify-between sm:space-y-0",children:[(0,r.jsx)(a.o5,{variant:"body2",className:"text-center text-xs sm:text-left sm:text-sm",children:o.replace("{start}",m.toString()).replace("{end}",u.toString()).replace("{total}",n.toString())}),(0,r.jsxs)("div",{className:"flex w-full flex-col items-center space-y-3 sm:w-auto sm:flex-row sm:space-y-0 sm:space-x-2",children:[(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2 sm:hidden",children:[(0,r.jsx)(a.$n,{variant:"outlined",disabled:1===t,onClick:()=>l(t-1),className:"!h-9 !px-3 !text-sm",children:c}),(0,r.jsxs)("span",{className:"px-3 py-2 text-sm font-medium",children:[t," / ",s]}),(0,r.jsx)(a.$n,{variant:"outlined",disabled:t===s,onClick:()=>l(t+1),className:"!h-9 !px-3 !text-sm",children:d})]}),(0,r.jsxs)("div",{className:"hidden sm:flex sm:flex-row sm:space-x-2",children:[(0,r.jsx)(a.$n,{variant:"outlined",disabled:1===t,onClick:()=>l(t-1),className:"!h-10",children:c}),(0,r.jsx)("div",{className:"flex justify-center space-x-1",children:Array.from({length:s},(e,n)=>{let i=n+1,o=i===t,c=2>=Math.abs(i-t);return 1===i||i===s||c?(0,r.jsx)(a.$n,{variant:o?"filled":"outlined",onClick:()=>l(i),className:"!h-10 !w-10 !p-0",children:i},i):i===t-3||i===t+3?(0,r.jsx)("span",{className:"px-2 py-2",children:"..."},i):null})}),(0,r.jsx)(a.$n,{variant:"outlined",disabled:t===s,onClick:()=>l(t+1),className:"!h-10",children:d})]})]})]})})}},6186:(e,t,s)=>{s.d(t,{u:()=>i});var r=s(6941),a=s(497);let n=async()=>{let e=(0,a.Zs)(),t=await fetch("".concat(e,"/contribute/contributors"));if(!t.ok)throw Error("Failed to fetch contributors: ".concat(t.status));return(await t.json()).map((e,t)=>({id:t+1,username:e.login,profileUrl:e.profileUrl,contributions:e.contributionCount,latestContribution:e.latest.date,latestRepo:e.latest.repo,avatarUrl:"https://github.com/".concat(e.login,".png")}))},i=()=>(0,r.I)({queryKey:["contributors"],queryFn:n,staleTime:3e5,gcTime:6e5,retry:3,retryDelay:e=>Math.min(1e3*2**e,3e4)})},6767:(e,t,s)=>{s.d(t,{t:()=>o});var r=s(6941),a=s(497);let n="https://hasura.bi.status.im",i=e=>'query CountDistinctCities {\n  stg_external_circle_circle_event_aggregate(where: { end_at: { _gte: "'.concat(e,'" } }) {\n    aggregate {\n      count(distinct: true, columns: location_city)\n    }\n  }\n}');async function l(){var e,t,s,r;let l=(0,a.pt)(120),[o,c]=await Promise.all([fetch("".concat(n,"/api/rest/contributions/count_all")),fetch("".concat(n,"/v1/graphql"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:i(l)})})]);if(!o.ok)throw Error("Contributions: ".concat(o.status));if(!c.ok)throw Error("Circles: ".concat(c.status));let d=await o.json(),m=await c.json(),u=d.stg_external_contributors_agg_total_ext_contributions[0];if(!u)throw Error("Missing contributions aggregate");return{activeContributorsCount:u.total_external_collaborators,totalContributionsCount:u.total_commits,totalRepositoriesCount:u.total_repositories,activeCirclesCount:null!=(r=null==(s=m.data)||null==(t=s.stg_external_circle_circle_event_aggregate)||null==(e=t.aggregate)?void 0:e.count)?r:0}}let o=()=>(0,r.I)({queryKey:["socialProofData"],queryFn:l,staleTime:864e5,gcTime:864e5,retry:3,retryDelay:e=>Math.min(1e3*2**e,3e4)})},8920:(e,t,s)=>{s.d(t,{A:()=>o});var r=s(9280),a=s(8877),n=s(4196),i=s(497);function l(e){let{value:t,label:s,isLoading:a,error:l,colSpan:o}=e;return(0,r.jsxs)("div",{className:"border-primary flex flex-col items-center justify-center gap-1 border p-4 sm:p-6 ".concat(o||""),children:[(0,r.jsx)(n.o5,{variant:"h2",className:"!text-2xl sm:!text-3xl",children:a||l?(0,r.jsx)("div",{className:"mb-2 h-6 w-6 animate-spin rounded-full border-2 border-gray-300 border-t-gray-900"}):(0,i.ZV)(null!=t?t:0)}),(0,r.jsx)(n.o5,{variant:"body2",className:"text-sm sm:text-base",children:s})]})}function o(e){let{data:t,isLoading:s,error:n}=e,i=(0,a.c3)("home");return(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[(0,r.jsx)(l,{value:t.totalContributionsCount,label:i("stats.totalContributions"),isLoading:s,error:n}),(0,r.jsx)(l,{value:t.activeContributorsCount,label:i("stats.activeContributors"),isLoading:s,error:n}),(0,r.jsx)(l,{value:t.totalRepositoriesCount,label:i("stats.repositories"),isLoading:s,error:n,colSpan:"sm:col-span-2 lg:col-span-1"}),(0,r.jsx)(l,{value:t.activeCirclesCount,label:i("stats.activeCircles"),isLoading:s,error:n,colSpan:"sm:col-span-2 lg:col-span-1"})]})}}}]);